"use strict";$(document).ready(function(){function e(e){var t,n,s,i=[];for(t=document.getElementsByClassName("select-items"),n=document.getElementsByClassName("select-selected"),s=0;s<n.length;s++)e==n[s]?i.push(s):n[s].classList.remove("select-arrow-active");for(s=0;s<t.length;s++)i.indexOf(s)&&t[s].classList.add("select-hide")}function t(e){return/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,6})+$/.test(e)}function n(){$(b).is(":checked")?(w.removeAttr("disabled"),C.removeClass("disabled")):(w.attr("disabled","disabled"),C.addClass("disabled"))}$(document).bind("contextmenu",function(e){return!1}),$("input").focus(function(){$(this).parents(".form-group").addClass("focused")}),$("input").blur(function(){""==$(this).val()?($(this).removeClass("filled"),$(this).parents(".form-group").removeClass("focused")):$(this).addClass("filled")});var s,i,r,o,a,l,c;for(s=document.getElementsByClassName("custom-select"),i=0;i<s.length;i++){for(o=s[i].getElementsByTagName("select")[0],a=document.createElement("DIV"),a.setAttribute("class","select-selected default"),a.innerHTML=o.options[o.selectedIndex].innerHTML,s[i].appendChild(a),l=document.createElement("DIV"),l.setAttribute("class","select-items select-hide"),r=1;r<o.length;r++)c=document.createElement("DIV"),c.innerHTML=o.options[r].innerHTML,c.addEventListener("click",function(e){var t,n,s,i,r;for(i=this.parentNode.parentNode.getElementsByTagName("select")[0],r=this.parentNode.previousSibling,n=0;n<i.length;n++)if(i.options[n].innerHTML==this.innerHTML){for(i.selectedIndex=n,r.innerHTML=this.innerHTML,t=this.parentNode.getElementsByClassName("same-as-selected"),s=0;s<t.length;s++)t[s].removeAttribute("class");this.setAttribute("class","same-as-selected");break}$(i).trigger("change"),r.click()}),l.appendChild(c);s[i].appendChild(l),a.addEventListener("click",function(t){t.stopPropagation(),e(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")})}document.addEventListener("click",e);var d=$("#email"),u=$("#customer_form_label"),p=$("#customer_form_submit"),h=$(".user-form input[type=text]:not([name=Address-field-2])"),f=$("select[name=gender]"),m=$("#birth_date"),v=$("select[name=country]"),g=$("input[name=confirm-email]"),y=function(){var e=[],n=!1;h.each(function(){""===$(this).val()?(e.push(!1),$(this).closest(".form-group").addClass("required")):(e.push(!0),$(this).closest(".form-group").removeClass("required"))}),n=!e.includes(!1),""===f.val()?f.closest("div").addClass("required"):f.closest("div").removeClass("required"),""===m.val()?m.closest("div").addClass("required"):m.closest("div").removeClass("required"),""===v.val()?v.closest("div").addClass("required"):v.closest("div").removeClass("required"),t(d.val())||d.hasClass("required")?d.closest("div").removeClass("invalid-email"):d.closest("div").addClass("invalid-email"),g.val()!==d.val()?g.closest("div").addClass("invalid-confirm-email"):g.closest("div").removeClass("invalid-confirm-email"),t(d.val())&&!0===n&&""!==f.val()&&""!==m.val()&&""!==v.val()&&g.val()===d.val()?(p.removeAttr("disabled"),u.removeClass("disabled")):(p.attr("disabled","disabled"),u.addClass("disabled"))};d.change(function(){y()}),d.keyup(function(){y()}),h.keyup(function(){y()}),f.change(function(){y()}),m.change(function(){y()}),v.change(function(){y()}),g.keyup(function(){y()});var b=$("#terms"),C=$("#terms_form_label"),w=$("#terms_form_submit");b.click(n);var x=$(".terms-btn"),_=$(".policy-btn"),E=$(".information-provided"),T=$("#modal-terms"),A=$("#modal-policy"),k=$("#modal-information"),L=$(".ui-close-modal");if(x.on("click",function(){T.addClass("show")}),_.on("click",function(){A.addClass("show")}),E.on("click",function(){k.addClass("show")}),L.on("click",function(){T.removeClass("show"),A.removeClass("show"),k.removeClass("show")}),$(".modal-wrap").click(function(e){e.target===$(".modal-wrap.show")[0]&&$(".modal-wrap").removeClass("show")}),$("#birth_date").on("change",function(){""===$(this).val()?$("#birth_date").addClass("change"):$("#birth_date").removeClass("change"),this.setAttribute("data-date",moment(this.value,"YYYY-MM-DD").format(this.getAttribute("data-date-format")))}),document.getElementById("birth_date")){var N=new Date,D=N.getDate(),S=N.getMonth()+1,q=N.getFullYear();D<10&&(D="0"+D),S<10&&(S="0"+S),N=q+"-"+S+"-"+D,document.getElementById("birth_date").setAttribute("max",N)}$("select[name=country]").length>0&&$.ajax({url:"https://restcountries.eu/rest/v2/all",dataType:"json",success:function(e){var t=e,n=$("select[name=country]");n.append('<option value="">Country</option>'),t.forEach(function(e){"Sweden"===e.name?n.append('<option value="'.concat(e.name,'" selected="selected">').concat(e.name,"</option>")):n.append('<option value="'.concat(e.name,'">').concat(e.name,"</option>"))}),n.select2()},error:function(e){console.log("error_data")}})});